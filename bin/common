#!/bin/bash


BOLD='\033[0;1m'
GREEN='\033[1;32m'
PURPLE='\033[1;35m'
RED='\033[1;31m'
RESET='\033[0m'
YELLOW='\033[1;33m'

# inspired by https://github.com/wincent/wincent
LOG_LEVEL_ERROR=0
LOG_LEVEL_WARNING=1
LOG_LEVEL_NOTE=2
LOG_LEVEL_OK=3
LOG_LEVEL_INFO=4
LOG_LEVEL_DEBUG=5

LOG_LEVEL=$LOG_LEVEL_INFO

for VAR in "$@"
do
  if [[ $VAR = "--debug" ]]; then
    LOG_LEVEL=$LOG_LEVEL_DEBUG
    DEBUG=1
  elif [[ $VAR = "--quiet" || $VAR = "-q" ]]; then
    LOG_LEVEL=$LOG_LEVEL_ERROR
    unset DEBUG
  fi
done

log_check() {
    source $HOME/.bashrc
    if [ -x "$(command -v $1)" ]; then
        log_ok "Installed $1"
    else
        log_error "$1 not installed"
    fi
}


log_error() {
  if [[ $LOG_LEVEL -ge $LOG_LEVEL_ERROR ]]; then
    echo -e "${RED}[Error]  ${RESET} $*" > /dev/stderr
  fi
}

log_warning() {
  if [[ $LOG_LEVEL -ge $LOG_LEVEL_WARNING ]]; then
    echo -e "${YELLOW}[Warning]${RESET} $*" > /dev/stderr
  fi
}

log_note() {
  if [[ $LOG_LEVEL -ge $LOG_LEVEL_NOTE ]]; then
    echo -e "${YELLOW}[Note]${RESET} $*" > /dev/stderr
  fi
}

log_ok() {
  if [[ $LOG_LEVEL -ge $LOG_LEVEL_OK ]]; then
    echo -e "${GREEN}[ OK ]  ${RESET} $*" > /dev/stderr
  fi
}

log_info() {
  if [[ $LOG_LEVEL -ge $LOG_LEVEL_INFO ]]; then
    echo -e "${BOLD}[Info]   ${RESET} $*" > /dev/stderr
  fi
}

log_debug() {
  if [[ $LOG_LEVEL -ge $LOG_LEVEL_DEBUG ]]; then
    echo -e "${PURPLE}[Debug]  ${RESET} $*" > /dev/stderr
  fi
}
